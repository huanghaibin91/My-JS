<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>表单</title>
</head>

<body>
    <script type="text/javascript">
        // 表单元素JS属性
        // action，接受请求的URL
        // elements，表单中所有控件
        // length，控件数量
        // method，HTTP请求类型，get或post
        // name，表单的名称
        // reset()，重置表单
        // submit()，提交表单
        // target，等价于HTML的target

        // document.forms取得页面所有表单

        // 表单字段共有属性
        // disabled，布尔值，是否禁用
        // form，指向当前表单
        // name，当前字段名称
        // readOnly，布尔值，只读属性
        // tabIndex，tab切换序号
        // type，字段类型
        // value，当前字段提交给服务器的值

        // focus(),blur(),select()方法
        // focus,blur,change,celect事件

        // 选择框脚本select元素
        // add(newOption, relOption)，在relOption之前插入newOption，relOption值为undefined则插入到最后
        // multiple，布尔值，表示是否可以多项选择
        // options，select控件中所有option选项
        // remove(index)，移出index项
        // selectedIndex，基于0的选中项的索引，没有则是-1
        // seze，选择框中可见的行数

        // option元素属性
        // 创建选项Option构造函数
        var newOption = new Option('optionText', 'optionValue');
        // index，option索引
        // label，当前选型的标签label
        // selected，布尔值，表示是否选中
        // text，选项的文本
        // value，选项的值

        // 获取选中的选项
        function getSelectedOption(selectBox) {
            var result = [];
            var option = null;
            for (var i = 0, len = selectBox.options.length; i < len; i++) {
                option = selectBox.options[i];
                if (option.selected) {
                    result.push(option);
                }
            }
            return result;
        }

        // 表单包含<input type="file">时，表单的enctype必须指定为multipart/form-data，method必须指定为post，
        // 浏览器才能正确编码并以multipart/form-data格式发送表单的数据
        // 出于安全考虑，浏览器只允许用户点击<input type="file">来选择本地文件，用JavaScript对<input type="file">
        // 的value赋值是没有任何效果的。当用户选择了上传某个文件后，JavaScript也无法获得该文件的真实路径

        // 表单序列化
        function serialize(form) {
            var parts = [],
                field = null,
                i,
                len,
                j,
                optLen,
                option,
                optValue;

            for (i = 0, len = form.elements.length; i < len; i++) {
                field = form.elements[i];

                switch (field.type) {
                    case "select-one":
                    case "select-multiple":

                        if (field.name.length) {
                            for (j = 0, optLen = field.options.length; j < optLen; j++) {
                                option = field.options[j];
                                if (option.selected) {
                                    optValue = "";
                                    if (option.hasAttribute) {
                                        optValue = (option.hasAttribute("value") ? option.value : option.text);
                                    } else {
                                        optValue = (option.attributes["value"].specified ? option.value : option.text);
                                    }
                                    parts.push(encodeURIComponent(field.name) + "=" + encodeURIComponent(optValue));
                                }
                            }
                        }
                        break;

                    case undefined: //fieldset
                    case "file": //file input
                    case "submit": //submit button
                    case "reset": //reset button
                    case "button": //custom button
                        break;

                    case "radio": //radio button
                    case "checkbox": //checkbox
                        if (!field.checked) {
                            break;
                        }
                        /* falls through */

                    default:
                        //don't include form fields without names
                        if (field.name.length) {
                            parts.push(encodeURIComponent(field.name) + "=" + encodeURIComponent(field.value));
                        }
                }
            }
            return parts.join("&");
        }
    </script>
</body>

</html>